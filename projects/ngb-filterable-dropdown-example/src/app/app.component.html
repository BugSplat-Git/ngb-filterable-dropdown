<div class="app-container">
  <!-- Floating background bugs -->
  <div class="floating-bugs">
    <span class="bug" style="left: 10%; top: 20%; animation-delay: 0s;">ğŸ›</span>
    <span class="bug" style="left: 80%; top: 15%; animation-delay: 3s;">ğŸ¦‹</span>
    <span class="bug" style="left: 25%; top: 70%; animation-delay: 7s;">ğŸ</span>
    <span class="bug" style="left: 70%; top: 60%; animation-delay: 5s;">ğŸ</span>
    <span class="bug" style="left: 50%; top: 40%; animation-delay: 2s;">ğŸ¦—</span>
    <span class="bug" style="left: 90%; top: 80%; animation-delay: 9s;">ğŸª²</span>
  </div>

  <!-- Hero Section -->
  <div class="hero-section">
    <a href="https://www.bugsplat.com">
      <img class="logo" src="./assets/logo-bugsplat-color.png" alt="BugSplat" />
    </a>
    <h1><span class="emoji">ğŸª²</span> ngb-filterable-dropdown</h1>
    <p class="subtitle">
      A beautiful, accessible dropdown component for Angular
      <br />
      <a href="https://github.com/BugSplat-Git/ngb-filterable-dropdown">
        View on GitHub â†’
      </a>
    </p>
  </div>

  <!-- Configuration Card -->
  <div class="config-card">
    <div class="config-title">âš™ï¸ Configuration</div>
    
    <div class="checkbox-grid">
      <label class="checkbox-bubble">
        <input class="form-check-input" type="checkbox" (click)="allowCreateItemClick($event)" />
        <span class="form-check-label">âœ¨ Allow Create</span>
      </label>
      <label class="checkbox-bubble">
        <input class="form-check-input" type="checkbox" (click)="customToggleTextClick($event)" />
        <span class="form-check-label">ğŸ·ï¸ Custom Text</span>
      </label>
      <label class="checkbox-bubble">
        <input class="form-check-input" type="checkbox" (click)="tooltipsClick($event)" />
        <span class="form-check-label">ğŸ’¬ Tooltips</span>
      </label>
      <label class="checkbox-bubble">
        <input class="form-check-input" type="checkbox" (click)="disabledClick($event)" />
        <span class="form-check-label">ğŸš« Disabled</span>
      </label>
      <label class="checkbox-bubble">
        <input class="form-check-input" type="checkbox" (click)="loadingClick($event)" />
        <span class="form-check-label">â³ Loading</span>
      </label>
      <div class="limit-bubble">
        <input class="form-check-input" id="select-all-limit" type="checkbox" (click)="selectAllLimitClick($event)" />
        <label class="form-check-label" for="select-all-limit">ğŸ”¢ Limit</label>
        @if (selectAllLimitEnabled()) {
          <input
            type="number"
            class="form-control"
            [value]="selectAllLimit()"
            (change)="selectAllLimitChange($event)"
            min="0"
          />
        }
      </div>
    </div>

    <div class="select-grid">
      <div>
        <label class="form-label" for="selection-mode">Selection Mode</label>
        <select id="selection-mode" class="form-select" (change)="onSelectionModeChange($event.target.value)">
          @for (mode of selectionModes; track mode) {
            <option [value]="mode">{{ mode }}</option>
          }
        </select>
      </div>
      <div>
        <label class="form-label" for="auto-close-value">Auto Close</label>
        <select id="auto-close-value" class="form-select" (change)="onAutoCloseValueChanged($event.target.value)">
          @for (value of autoCloseValues; track value) {
            <option [value]="value">{{ value }}</option>
          }
        </select>
      </div>
    </div>
  </div>

  <!-- Demo Cards -->
  <div class="demo-card bugs-card">
    <h3>ğŸ› Bugs</h3>
    @if (customToggleText()) {
      <ngb-filterable-dropdown
        [allowCreateItem]="allowCreateItem()"
        [autoClose]="autoClose()"
        [items]="items()"
        [disabled]="disabled()"
        [loading]="loading()"
        [searchInputPlaceholder]="searchInputPlaceholder()"
        [selectAllLimit]="selectAllLimit()"
        [selection]="selection()"
        [selectionMode]="selectionMode()"
        [tooltips]="tooltips()"
        [tooltipsOpenDelay]="tooltipsOpenDelay()"
        (itemCreated)="onItemCreated($event)"
        (openChanged)="onOpenChanged($event)"
        (selectionChanged)="onSelectionChanged($event)"
      >
        Select a Bug ğŸ›
      </ngb-filterable-dropdown>
    } @else {
      <ngb-filterable-dropdown
        [allowCreateItem]="allowCreateItem()"
        [autoClose]="autoClose()"
        [items]="items()"
        [disabled]="disabled()"
        [loading]="loading()"
        [placeholder]="'No Bugs Selected'"
        [searchInputPlaceholder]="searchInputPlaceholder()"
        [selectAllLimit]="selectAllLimit()"
        [selection]="selection()"
        [selectionMode]="selectionMode()"
        [tooltips]="tooltips()"
        [tooltipsOpenDelay]="tooltipsOpenDelay()"
        (itemCreated)="onItemCreated($event)"
        (openChanged)="onOpenChanged($event)"
        (selectionChanged)="onSelectionChanged($event)"
      ></ngb-filterable-dropdown>
    }
  </div>

  <div class="demo-card badges-card">
    <h3>ğŸ… Bugs with Badges</h3>
    <ngb-filterable-dropdown
      [allowCreateItem]="allowCreateItem()"
      [autoClose]="autoClose()"
      [disabled]="disabled()"
      [items]="itemsWithBadges()"
      [loading]="loading()"
      [placeholder]="'No Bugs Selected'"
      [searchInputPlaceholder]="searchInputPlaceholder()"
      [selectAllLimit]="selectAllLimit()"
      [selection]="badgesSelection()"
      [selectionMode]="selectionMode()"
      [tooltips]="tooltips()"
      [tooltipsOpenDelay]="tooltipsOpenDelay()"
      (itemCreated)="onItemCreated($event)"
      (selectionChanged)="badgesSelectionChanged($event)"
    ></ngb-filterable-dropdown>
  </div>

  <div class="demo-card lots-card">
    <h3>ğŸ“š 100,000+ Items</h3>
    <ngb-filterable-dropdown
      [allowCreateItem]="allowCreateItem()"
      [autoClose]="autoClose()"
      [disabled]="disabled()"
      [items]="lotsOfItems()"
      [itemHeight]="50"
      [loading]="loading()"
      [searchInputPlaceholder]="searchInputPlaceholder()"
      [selectAllLimit]="selectAllLimit()"
      [selection]="lotsOfItemsSelection()"
      [selectionMode]="selectionMode()"
      [tooltips]="tooltips()"
      [tooltipsOpenDelay]="tooltipsOpenDelay()"
      (itemCreated)="onItemCreated($event)"
      (selectionChanged)="lotsOfItemsSelectionChanged($event)"
    ></ngb-filterable-dropdown>
  </div>

  <div class="demo-card custom-card">
    <h3>ğŸ¨ Custom Click Handle</h3>
    <ngb-custom-filterable-dropdown
      [allowCreateItem]="allowCreateItem()"
      [autoClose]="autoClose()"
      [disabled]="disabled()"
      [items]="items()"
      [loading]="loading()"
      [searchInputPlaceholder]="searchInputPlaceholder()"
      [selectAllLimit]="selectAllLimit()"
      [selection]="genericHandleSelection()"
      [selectionMode]="selectionMode()"
      [tooltips]="tooltips()"
      [tooltipsOpenDelay]="tooltipsOpenDelay()"
      (itemCreated)="onItemCreated($event)"
      (openChanged)="genericHandleOpenChanged($event)"
      (selectionChanged)="genericHandlerOnSelectionChanged($event)"
    >
      <span class="text-muted">
        Click me! â†’ <strong>{{ genericHandleSelection() }}</strong>
        @if (isGenericHandleDropdownOpen()) {
          <span class="badge bg-success ms-2">Open</span>
        }
      </span>
    </ngb-custom-filterable-dropdown>
  </div>

  <div class="demo-card styled-card">
    <h3>ğŸ’… Styled Custom Handle</h3>
    <ngb-custom-filterable-dropdown
      [allowCreateItem]="allowCreateItem()"
      [autoClose]="autoClose()"
      [disabled]="disabled()"
      [items]="items()"
      [loading]="loading()"
      [searchInputPlaceholder]="searchInputPlaceholder()"
      [selectAllLimit]="selectAllLimit()"
      [selection]="genericHandleSelection()"
      [selectionMode]="selectionMode()"
      [tooltips]="tooltips()"
      [tooltipsOpenDelay]="tooltipsOpenDelay()"
      (itemCreated)="onItemCreated($event)"
      (openChanged)="genericHandleOpenChanged($event)"
      (selectionChanged)="genericHandlerOnSelectionChanged($event)"
    >
      <div class="custom-handle">
        âœ¨ Fancy Handle â†’ {{ genericHandleSelection() }}
        @if (isGenericHandleDropdownOpen()) {
          <span class="badge bg-warning text-dark ms-2">Open</span>
        }
      </div>
    </ngb-custom-filterable-dropdown>
  </div>

  <!-- Toast container -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1100;">
    @for (toast of toasts(); track toast.id) {
      <ngb-toast
        class="bg-success text-white border-0"
        [autohide]="true"
        [delay]="4000"
        [header]="''"
        (hidden)="dismissToast(toast.id)"
      >
        <strong>{{ toast.source }}:</strong>
        @if (isArray(toast.selection)) {
          Selected {{ toast.selection.length }} items
        } @else {
          "{{ toast.selection }}"
        }
      </ngb-toast>
    }
  </div>
</div>
